{"version":3,"file":"4391.app.js","mappings":";;;;;;;;;;;;AAAO;AACP;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;EC9DA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA0E;AAC1E;AACA,CAAmC;AACnC;AACA,iDAAiD,2BAAa;AAC9D;AACA,SAAS,SAAS;AAClB;;;AAGA,iDAAe","sources":["webpack:///./.vuepress/.temp/pages/5.x/basic-services/media.html.js","webpack:///./.vuepress/.temp/pages/5.x/basic-services/media.html.vue","webpack:///./.vuepress/.temp/pages/5.x/basic-services/media.html.vue?9e95"],"sourcesContent":["export const data = {\n  \"key\": \"v-f1959784\",\n  \"path\": \"/5.x/basic-services/media.html\",\n  \"title\": \"临时素材\",\n  \"lang\": \"en-US\",\n  \"frontmatter\": {},\n  \"excerpt\": \"\",\n  \"headers\": [\n    {\n      \"level\": 2,\n      \"title\": \"上传图片\",\n      \"slug\": \"上传图片\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"上传声音\",\n      \"slug\": \"上传声音\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"上传视频\",\n      \"slug\": \"上传视频\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"上传缩略图\",\n      \"slug\": \"上传缩略图\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"上传群发视频\",\n      \"slug\": \"上传群发视频\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"创建群发消息\",\n      \"slug\": \"创建群发消息\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"获取临时素材内容\",\n      \"slug\": \"获取临时素材内容\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"获取 JSSDK 上传的高清语音\",\n      \"slug\": \"获取-jssdk-上传的高清语音\",\n      \"children\": []\n    }\n  ],\n  \"filePathRelative\": \"5.x/basic-services/media.md\",\n  \"git\": {\n    \"updatedTime\": 1629906046000,\n    \"contributors\": []\n  }\n}\n","<h1 id=\"临时素材\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#临时素材\" aria-hidden=\"true\">#</a> 临时素材</h1>\n<p>上传的临时多媒体文件有格式和大小限制，如下：</p>\n<blockquote>\n<ul>\n<li>图片（image）: 2M，支持 <code>JPG</code> 格式</li>\n<li>语音（voice）：2M，播放长度不超过 <code>60s</code>，支持 <code>AMR\\MP3</code> 格式</li>\n<li>视频（video）：10MB，支持 <code>MP4</code> 格式</li>\n<li>缩略图（thumb）：64KB，支持 <code>JPG</code> 格式</li>\n</ul>\n</blockquote>\n<h2 id=\"上传图片\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#上传图片\" aria-hidden=\"true\">#</a> 上传图片</h2>\n<blockquote>\n<p>{warning} 注意：微信图片上传服务有敏感检测系统，图片内容如果含有敏感内容，如色情，商品推广，虚假信息等，上传可能失败。</p>\n</blockquote>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$app</span><span class=\"token operator\">-></span><span class=\"token property\">media</span><span class=\"token operator\">-></span><span class=\"token function\">uploadImage</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$path</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br></div></div><h2 id=\"上传声音\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#上传声音\" aria-hidden=\"true\">#</a> 上传声音</h2>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$app</span><span class=\"token operator\">-></span><span class=\"token property\">media</span><span class=\"token operator\">-></span><span class=\"token function\">uploadVoice</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$path</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br></div></div><h2 id=\"上传视频\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#上传视频\" aria-hidden=\"true\">#</a> 上传视频</h2>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$app</span><span class=\"token operator\">-></span><span class=\"token property\">media</span><span class=\"token operator\">-></span><span class=\"token function\">uploadVideo</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$path</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$title</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$description</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br></div></div><h2 id=\"上传缩略图\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#上传缩略图\" aria-hidden=\"true\">#</a> 上传缩略图</h2>\n<p>用于视频封面或者音乐封面。</p>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$app</span><span class=\"token operator\">-></span><span class=\"token property\">media</span><span class=\"token operator\">-></span><span class=\"token function\">uploadThumb</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$path</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br></div></div><h2 id=\"上传群发视频\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#上传群发视频\" aria-hidden=\"true\">#</a> 上传群发视频</h2>\n<p>上传视频获取 <code>media_id</code> 用以创建群发消息用。</p>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$app</span><span class=\"token operator\">-></span><span class=\"token property\">media</span><span class=\"token operator\">-></span><span class=\"token function\">uploadVideoForBroadcasting</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$path</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$title</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$description</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//{</span>\n<span class=\"token comment\">//  \"media_id\": \"rF4UdIMfYK3efUfyoddYRMU50zMiRmmt_l0kszupYh_SzrcW5Gaheq05p_lHuOTQ\",</span>\n<span class=\"token comment\">//  \"title\": \"TITLE\",</span>\n<span class=\"token comment\">//  \"description\": \"Description\"</span>\n<span class=\"token comment\">//}</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br><span class=\"line-number\">4</span><br><span class=\"line-number\">5</span><br><span class=\"line-number\">6</span><br><span class=\"line-number\">7</span><br></div></div><h2 id=\"创建群发消息\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#创建群发消息\" aria-hidden=\"true\">#</a> 创建群发消息</h2>\n<p>不要与上面 <strong>上传群发视频</strong> 搞混了，上面一个是上传视频得到 <code>media_id</code>，这个是使用该 <code>media_id</code> 加标题描述 <strong>创建一条消息素材</strong> 用来发送给用户。详情参见：<a href=\"broadcasting\">消息群发</a></p>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$app</span><span class=\"token operator\">-></span><span class=\"token property\">media</span><span class=\"token operator\">-></span><span class=\"token function\">createVideoForBroadcasting</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$mediaId</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$title</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$description</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//{</span>\n<span class=\"token comment\">//  \"type\":\"video\",</span>\n<span class=\"token comment\">//  \"media_id\":\"IhdaAQXuvJtGzwwc0abfXnzeezfO0NgPK6AQYShD8RQYMTtfzbLdBIQkQziv2XJc\",</span>\n<span class=\"token comment\">//  \"created_at\":1398848981</span>\n<span class=\"token comment\">//}</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br><span class=\"line-number\">4</span><br><span class=\"line-number\">5</span><br><span class=\"line-number\">6</span><br><span class=\"line-number\">7</span><br></div></div><h2 id=\"获取临时素材内容\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#获取临时素材内容\" aria-hidden=\"true\">#</a> 获取临时素材内容</h2>\n<p>比如图片、语音等二进制流内容，响应为 <code>EasyWeChat\\Kernel\\Http\\StreamResponse</code> 实例。</p>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$stream</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$app</span><span class=\"token operator\">-></span><span class=\"token property\">media</span><span class=\"token operator\">-></span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$mediaId</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$stream</span> <span class=\"token keyword\">instanceof</span> <span class=\"token class-name class-name-fully-qualified\"><span class=\"token punctuation\">\\</span>EasyWeChat<span class=\"token punctuation\">\\</span>Kernel<span class=\"token punctuation\">\\</span>Http<span class=\"token punctuation\">\\</span>StreamResponse</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 以内容 md5 为文件名存到本地</span>\n  <span class=\"token variable\">$stream</span><span class=\"token operator\">-></span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'保存目录'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// 自定义文件名，不需要带后缀</span>\n  <span class=\"token variable\">$stream</span><span class=\"token operator\">-></span><span class=\"token function\">saveAs</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'保存目录'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'文件名'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br><span class=\"line-number\">4</span><br><span class=\"line-number\">5</span><br><span class=\"line-number\">6</span><br><span class=\"line-number\">7</span><br><span class=\"line-number\">8</span><br><span class=\"line-number\">9</span><br></div></div><h2 id=\"获取-jssdk-上传的高清语音\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#获取-jssdk-上传的高清语音\" aria-hidden=\"true\">#</a> 获取 JSSDK 上传的高清语音</h2>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$stream</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$app</span><span class=\"token operator\">-></span><span class=\"token property\">media</span><span class=\"token operator\">-></span><span class=\"token function\">getJssdkMedia</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$mediaId</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$stream</span><span class=\"token operator\">-></span><span class=\"token function\">saveAs</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'保存目录'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'custom-name.speex'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br></div></div>","import { ssrRender } from \"./media.html.vue?vue&type=template&id=18e73ccb\"\nconst script = {}\nimport { ssrContextKey } from 'vue'\nscript.ssrRender = (...args) => {\n  const ssrContext = args[2].appContext.provides[ssrContextKey]\n  ssrContext._registeredComponents.add(\"/home/runner/work/easywechat/easywechat/docs/node_modules/@vuepress/bundler-webpack/lib/build/ssr/vuepressLoader.js!/home/runner/work/easywechat/easywechat/docs/node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!/home/runner/work/easywechat/easywechat/docs/.vuepress/.temp/pages/5.x/basic-services/media.html.vue\")\n  return ssrRender(...args)\n}\n\n\nexport default script"],"names":[],"sourceRoot":""}