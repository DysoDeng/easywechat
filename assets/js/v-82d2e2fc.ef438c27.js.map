{"version":3,"file":"assets/js/v-82d2e2fc.ef438c27.js","mappings":"gHAAO,MAAMA,EAAO,CAClB,IAAO,aACP,KAAQ,4BACR,MAAS,KACT,KAAQ,QACR,YAAe,GACf,QAAW,GACX,QAAW,CACT,CACE,MAAS,EACT,MAAS,KACT,KAAQ,KACR,SAAY,IAEd,CACE,MAAS,EACT,MAAS,OACT,KAAQ,OACR,SAAY,CACV,CACE,MAAS,EACT,MAAS,WACT,KAAQ,WACR,SAAY,IAEd,CACE,MAAS,EACT,MAAS,WACT,KAAQ,WACR,SAAY,MAIlB,CACE,MAAS,EACT,MAAS,UACT,KAAQ,UACR,SAAY,IAEd,CACE,MAAS,EACT,MAAS,SACT,KAAQ,SACR,SAAY,KAGhB,iBAAoB,yBACpB,IAAO,CACL,YAAe,aACf,aAAgB,M,sECjDpB,OAA8F,MAA1FC,GAAG,KAAKC,SAAS,M,EAAK,OAA4D,KAAzDC,MAAM,gBAAgBC,KAAK,MAAM,cAAY,QAAO,MAAjF,QAAsF,S,MAAtF,QACG,sB,GAAqBA,KAAK,4EAA4EC,OAAO,SAASC,IAAI,uB,GAD7H,QACmJ,kB,GADnJ,QACoL,K,GADpL,4sV,GAAA,QAoDG,8D,GAA6DF,KAAK,uIAAuIC,OAAO,SAASC,IAAI,uB,GApDhO,QAoDsP,Q,GApDtP,y9JCIA,EAHe,CACf,O,iEDFA,sBACA,OAAyL,UADzL,GACqB,OAA+J,IAA/J,EAA+J,CADpL,GACiK,QAAe,KADhL,IAEA,GAkDA,OAAiR,UApDjR,GAoD6D,OAAgN,IAAhN,EAAgN,CApD7Q,GAoD0P,QAAe,OACzQ,G","sources":["webpack:///./.vuepress/.temp/pages/4.x/payment/redpack.html.js","webpack:///./.vuepress/.temp/pages/4.x/payment/redpack.html.vue","webpack:///./.vuepress/.temp/pages/4.x/payment/redpack.html.vue?5848"],"sourcesContent":["export const data = {\n  \"key\": \"v-82d2e2fc\",\n  \"path\": \"/4.x/payment/redpack.html\",\n  \"title\": \"红包\",\n  \"lang\": \"en-US\",\n  \"frontmatter\": {},\n  \"excerpt\": \"\",\n  \"headers\": [\n    {\n      \"level\": 2,\n      \"title\": \"配置\",\n      \"slug\": \"配置\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"发送红包\",\n      \"slug\": \"发送红包\",\n      \"children\": [\n        {\n          \"level\": 3,\n          \"title\": \"发送普通红包接口\",\n          \"slug\": \"发送普通红包接口\",\n          \"children\": []\n        },\n        {\n          \"level\": 3,\n          \"title\": \"发送裂变红包接口\",\n          \"slug\": \"发送裂变红包接口\",\n          \"children\": []\n        }\n      ]\n    },\n    {\n      \"level\": 2,\n      \"title\": \"红包预下单接口\",\n      \"slug\": \"红包预下单接口\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"查询红包信息\",\n      \"slug\": \"查询红包信息\",\n      \"children\": []\n    }\n  ],\n  \"filePathRelative\": \"4.x/payment/redpack.md\",\n  \"git\": {\n    \"updatedTime\": 1629906046000,\n    \"contributors\": []\n  }\n}\n","<h1 id=\"红包\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#红包\" aria-hidden=\"true\">#</a> 红包</h1>\n<p>在阅读本文之前确认你已经仔细阅读了：<a href=\"https://pay.weixin.qq.com/wiki/doc/api/tools/cash_coupon.php?chapter=13_1\" target=\"_blank\" rel=\"noopener noreferrer\">微信支付 | 现金红包文档 <OutboundLink/></a>。</p>\n<h2 id=\"配置\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#配置\" aria-hidden=\"true\">#</a> 配置</h2>\n<p>与支付接口一样，红包接口也需要配置如下参数，需要特别注意的是，红包相关的全部接口<strong>都需要使用 SSL 证书</strong>，因此<strong>cert_path 以及 cert_key 必须正确配置</strong>。</p>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token keyword\">use</span> <span class=\"token package\">EasyWeChat<span class=\"token punctuation\">\\</span>Factory</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$config</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string single-quoted-string\">'app_id'</span>    <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'you-app-id'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string single-quoted-string\">'mch_id'</span>    <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'your-mch-id'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string single-quoted-string\">'key'</span>       <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'key-for-signature'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string single-quoted-string\">'cert_path'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'path/to/your/cert.pem'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string single-quoted-string\">'key_path'</span>  <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'path/to/your/key'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$payment</span> <span class=\"token operator\">=</span> <span class=\"token class-name static-context\">Factory</span><span class=\"token operator\">::</span><span class=\"token function\">payment</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$config</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$redpack</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$payment</span><span class=\"token operator\">-></span><span class=\"token property\">redpack</span><span class=\"token punctuation\">;</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br><span class=\"line-number\">4</span><br><span class=\"line-number\">5</span><br><span class=\"line-number\">6</span><br><span class=\"line-number\">7</span><br><span class=\"line-number\">8</span><br><span class=\"line-number\">9</span><br><span class=\"line-number\">10</span><br><span class=\"line-number\">11</span><br><span class=\"line-number\">12</span><br><span class=\"line-number\">13</span><br><span class=\"line-number\">14</span><br></div></div><h2 id=\"发送红包\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#发送红包\" aria-hidden=\"true\">#</a> 发送红包</h2>\n<p>微信的现金红包分为<strong>普通红包</strong>和<strong>裂变红包</strong>两类。SDK 中对其分别进行了封装，同时也提供了一个统一的调用方法。</p>\n<p><strong>默认情况下，通过接口发送的红包金额应该在200元以内，但可以通过在调用发送接口时传递场景 ID (scene_id)来发送特定场景的红包，不同场景红包可以由商户自己登录商户平台设置最大金额。scene_id 的可选值及对应含义可参阅微信支付官方文档。</strong></p>\n<h3 id=\"发送普通红包接口\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#发送普通红包接口\" aria-hidden=\"true\">#</a> 发送普通红包接口</h3>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$redpackData</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string single-quoted-string\">'mch_billno'</span>   <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'xy123456'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string single-quoted-string\">'send_name'</span>    <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'测试红包'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string single-quoted-string\">'re_openid'</span>    <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'oxTWIuGaIt6gTKsQRLau2M0yL16E'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string single-quoted-string\">'total_num'</span>    <span class=\"token operator\">=></span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\">//固定为1，可不传</span>\n    <span class=\"token string single-quoted-string\">'total_amount'</span> <span class=\"token operator\">=></span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\">//单位为分，不小于100</span>\n    <span class=\"token string single-quoted-string\">'wishing'</span>      <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'祝福语'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string single-quoted-string\">'client_ip'</span>    <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'192.168.0.1'</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\">//可不传，不传则由 SDK 取当前客户端 IP</span>\n    <span class=\"token string single-quoted-string\">'act_name'</span>     <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'测试活动'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string single-quoted-string\">'remark'</span>       <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'测试备注'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$result</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$redpack</span><span class=\"token operator\">-></span><span class=\"token function\">sendNormal</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$redpackData</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br><span class=\"line-number\">4</span><br><span class=\"line-number\">5</span><br><span class=\"line-number\">6</span><br><span class=\"line-number\">7</span><br><span class=\"line-number\">8</span><br><span class=\"line-number\">9</span><br><span class=\"line-number\">10</span><br><span class=\"line-number\">11</span><br><span class=\"line-number\">12</span><br><span class=\"line-number\">13</span><br><span class=\"line-number\">14</span><br></div></div><h3 id=\"发送裂变红包接口\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#发送裂变红包接口\" aria-hidden=\"true\">#</a> 发送裂变红包接口</h3>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$redpackData</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string single-quoted-string\">'mch_billno'</span>   <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'xy123456'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string single-quoted-string\">'send_name'</span>    <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'测试红包'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string single-quoted-string\">'re_openid'</span>    <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'oxTWIuGaIt6gTKsQRLau2M0yL16E'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string single-quoted-string\">'total_num'</span>    <span class=\"token operator\">=></span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\">//不小于3</span>\n    <span class=\"token string single-quoted-string\">'total_amount'</span> <span class=\"token operator\">=></span> <span class=\"token number\">300</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\">//单位为分，不小于300</span>\n    <span class=\"token string single-quoted-string\">'wishing'</span>      <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'祝福语'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string single-quoted-string\">'act_name'</span>     <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'测试活动'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string single-quoted-string\">'remark'</span>       <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'测试备注'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string single-quoted-string\">'amt_type'</span>     <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'ALL_RAND'</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\">//可不传</span>\n    <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$result</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$redpack</span><span class=\"token operator\">-></span><span class=\"token function\">sendGroup</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$redpackData</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br><span class=\"line-number\">4</span><br><span class=\"line-number\">5</span><br><span class=\"line-number\">6</span><br><span class=\"line-number\">7</span><br><span class=\"line-number\">8</span><br><span class=\"line-number\">9</span><br><span class=\"line-number\">10</span><br><span class=\"line-number\">11</span><br><span class=\"line-number\">12</span><br><span class=\"line-number\">13</span><br><span class=\"line-number\">14</span><br></div></div><h2 id=\"红包预下单接口\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#红包预下单接口\" aria-hidden=\"true\">#</a> 红包预下单接口</h2>\n<p>红包预下单接口是为摇一摇红包接口配合使用的，在开发摇一摇周边的摇红包相关功能时，需要调用本接口获取红包单号。详情参见<a href=\"http://mp.weixin.qq.com/wiki/7/0ddd50ed2421b99fedd071281c074aab.html#.E7.BA.A2.E5.8C.85.E9.A2.84.E4.B8.8B.E5.8D.95.E6.8E.A5.E5.8F.A3\" target=\"_blank\" rel=\"noopener noreferrer\">官方文档<OutboundLink/></a></p>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$redpackData</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string single-quoted-string\">'hb_type'</span>      <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'NORMAL'</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\">//NORMAL 或 GROUP</span>\n    <span class=\"token string single-quoted-string\">'mch_billno'</span>   <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'xy123456'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string single-quoted-string\">'send_name'</span>    <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'测试红包'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string single-quoted-string\">'re_openid'</span>    <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'oxTWIuGaIt6gTKsQRLau2M0yL16E'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string single-quoted-string\">'total_num'</span>    <span class=\"token operator\">=></span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\">//普通红包固定为1，裂变红包不小于3</span>\n    <span class=\"token string single-quoted-string\">'total_amount'</span> <span class=\"token operator\">=></span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\">//单位为分，普通红包不小于100，裂变红包不小于300</span>\n    <span class=\"token string single-quoted-string\">'wishing'</span>      <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'祝福语'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string single-quoted-string\">'client_ip'</span>    <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'192.168.0.1'</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\">//可不传，不传则由 SDK 取当前客户端 IP</span>\n    <span class=\"token string single-quoted-string\">'act_name'</span>     <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'测试活动'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string single-quoted-string\">'remark'</span>       <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'测试备注'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string single-quoted-string\">'amt_type'</span>     <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'ALL_RAND'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$result</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$redpack</span><span class=\"token operator\">-></span><span class=\"token function\">prepare</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$redpackData</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br><span class=\"line-number\">4</span><br><span class=\"line-number\">5</span><br><span class=\"line-number\">6</span><br><span class=\"line-number\">7</span><br><span class=\"line-number\">8</span><br><span class=\"line-number\">9</span><br><span class=\"line-number\">10</span><br><span class=\"line-number\">11</span><br><span class=\"line-number\">12</span><br><span class=\"line-number\">13</span><br><span class=\"line-number\">14</span><br><span class=\"line-number\">15</span><br><span class=\"line-number\">16</span><br></div></div><h2 id=\"查询红包信息\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#查询红包信息\" aria-hidden=\"true\">#</a> 查询红包信息</h2>\n<p>用于商户对已发放的红包进行查询红包的具体信息以及领取情况 ，普通红包和裂变包均使用这一接口进行查询。</p>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$mchBillNo</span> <span class=\"token operator\">=</span> <span class=\"token string double-quoted-string\">\"商户系统内部的订单号（mch_billno）\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$redpack</span><span class=\"token operator\">-></span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$mchBillNo</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br></div></div>","import { render } from \"./redpack.html.vue?vue&type=template&id=7ffb28ab\"\nconst script = {}\nscript.render = render\n\nexport default script"],"names":["data","id","tabindex","class","href","target","rel"],"sourceRoot":""}