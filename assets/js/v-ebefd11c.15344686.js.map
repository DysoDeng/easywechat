{"version":3,"file":"assets/js/v-ebefd11c.15344686.js","mappings":"gHAAO,MAAMA,EAAO,CAClB,IAAO,aACP,KAAQ,gBACR,MAAS,KACT,KAAQ,QACR,YAAe,GACf,QAAW,GACX,QAAW,CACT,CACE,MAAS,EACT,MAAS,KACT,KAAQ,KACR,SAAY,CACV,CACE,MAAS,EACT,MAAS,MACT,KAAQ,MACR,SAAY,IAEd,CACE,MAAS,EACT,MAAS,OACT,KAAQ,OACR,SAAY,MAIlB,CACE,MAAS,EACT,MAAS,gBACT,KAAQ,gBACR,SAAY,IAEd,CACE,MAAS,EACT,MAAS,OACT,KAAQ,OACR,SAAY,KAGhB,iBAAoB,uBACpB,IAAO,CACL,YAAe,aACf,aAAgB,M,sEC3CpB,OAA8F,MAA1FC,GAAG,KAAKC,SAAS,M,EAAK,OAA4D,KAAzDC,MAAM,gBAAgBC,KAAK,MAAM,cAAY,QAAO,MAAjF,QAAsF,S,MAAtF,QACG,uB,GAAsBA,KAAK,oDAAoDC,OAAO,SAASC,IAAI,uB,GADtG,QAC4H,mB,GAD5H,QAC8J,K,GAD9J,u5I,GAwBMF,KAAK,mEAAmEC,OAAO,SAASC,IAAI,uB,GAxBlG,QAwBwH,Q,GAxBxH,2rICIA,EAHe,CACf,O,iEDFA,sBACA,OAAmK,UADnK,GACsB,OAAwI,IAAxI,EAAwI,CAD9J,GAC2I,QAAe,KAD1J,IAEA,GAsBA,OAAmJ,WAAhJ,OAA4I,IAA5I,EAA4I,CAxB/I,GAwB4H,QAAe,OAC3I,G","sources":["webpack:///./.vuepress/.temp/pages/5.x/payment/index.html.js","webpack:///./.vuepress/.temp/pages/5.x/payment/index.html.vue","webpack:///./.vuepress/.temp/pages/5.x/payment/index.html.vue?7860"],"sourcesContent":["export const data = {\n  \"key\": \"v-ebefd11c\",\n  \"path\": \"/5.x/payment/\",\n  \"title\": \"支付\",\n  \"lang\": \"en-US\",\n  \"frontmatter\": {},\n  \"excerpt\": \"\",\n  \"headers\": [\n    {\n      \"level\": 2,\n      \"title\": \"配置\",\n      \"slug\": \"配置\",\n      \"children\": [\n        {\n          \"level\": 3,\n          \"title\": \"服务商\",\n          \"slug\": \"服务商\",\n          \"children\": []\n        },\n        {\n          \"level\": 3,\n          \"title\": \"刷卡支付\",\n          \"slug\": \"刷卡支付\",\n          \"children\": []\n        }\n      ]\n    },\n    {\n      \"level\": 2,\n      \"title\": \"授权码查询OPENID接口\",\n      \"slug\": \"授权码查询openid接口\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"沙箱模式\",\n      \"slug\": \"沙箱模式\",\n      \"children\": []\n    }\n  ],\n  \"filePathRelative\": \"5.x/payment/index.md\",\n  \"git\": {\n    \"updatedTime\": 1629906046000,\n    \"contributors\": []\n  }\n}\n","<h1 id=\"支付\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#支付\" aria-hidden=\"true\">#</a> 支付</h1>\n<p>你在阅读本文之前确认你已经仔细阅读了：<a href=\"https://pay.weixin.qq.com/wiki/doc/api/index.html\" target=\"_blank\" rel=\"noopener noreferrer\">微信支付 | 商户平台开发文档<OutboundLink/></a>。</p>\n<h2 id=\"配置\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#配置\" aria-hidden=\"true\">#</a> 配置</h2>\n<p>配置在前面的例子中已经提到过了，支付的相关配置如下：</p>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token keyword\">use</span> <span class=\"token package\">EasyWeChat<span class=\"token punctuation\">\\</span>Factory</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$config</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token comment\">// 必要配置</span>\n    <span class=\"token string single-quoted-string\">'app_id'</span>             <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'xxxx'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string single-quoted-string\">'mch_id'</span>             <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'your-mch-id'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string single-quoted-string\">'key'</span>                <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'key-for-signature'</span><span class=\"token punctuation\">,</span>   <span class=\"token comment\">// API 密钥</span>\n\n    <span class=\"token comment\">// 如需使用敏感接口（如退款、发送红包等）需要配置 API 证书路径(登录商户平台下载 API 证书)</span>\n    <span class=\"token string single-quoted-string\">'cert_path'</span>          <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'path/to/your/cert.pem'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// XXX: 绝对路径！！！！</span>\n    <span class=\"token string single-quoted-string\">'key_path'</span>           <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'path/to/your/key'</span><span class=\"token punctuation\">,</span>      <span class=\"token comment\">// XXX: 绝对路径！！！！</span>\n\n    <span class=\"token string single-quoted-string\">'notify_url'</span>         <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'默认的订单回调地址'</span><span class=\"token punctuation\">,</span>     <span class=\"token comment\">// 你也可以在下单时单独设置来想覆盖它</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$app</span> <span class=\"token operator\">=</span> <span class=\"token class-name static-context\">Factory</span><span class=\"token operator\">::</span><span class=\"token function\">payment</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$config</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br><span class=\"line-number\">4</span><br><span class=\"line-number\">5</span><br><span class=\"line-number\">6</span><br><span class=\"line-number\">7</span><br><span class=\"line-number\">8</span><br><span class=\"line-number\">9</span><br><span class=\"line-number\">10</span><br><span class=\"line-number\">11</span><br><span class=\"line-number\">12</span><br><span class=\"line-number\">13</span><br><span class=\"line-number\">14</span><br><span class=\"line-number\">15</span><br><span class=\"line-number\">16</span><br></div></div><h3 id=\"服务商\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#服务商\" aria-hidden=\"true\">#</a> 服务商</h3>\n<h4 id=\"设置子商户信息\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#设置子商户信息\" aria-hidden=\"true\">#</a> 设置子商户信息</h4>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$app</span><span class=\"token operator\">-></span><span class=\"token function\">setSubMerchant</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'sub-merchant-id'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'sub-app-id'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// 子商户 AppID 为可选项</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br></div></div><h3 id=\"刷卡支付\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#刷卡支付\" aria-hidden=\"true\">#</a> 刷卡支付</h3>\n<p><a href=\"https://pay.weixin.qq.com/wiki/doc/api/micropay.php?chapter=9_10\" target=\"_blank\" rel=\"noopener noreferrer\">官方文档<OutboundLink/></a></p>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$result</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$app</span><span class=\"token operator\">-></span><span class=\"token function\">pay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n    <span class=\"token string single-quoted-string\">'body'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'image形象店-深圳腾大- QQ公仔'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string single-quoted-string\">'out_trade_no'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'1217752501201407033233368018'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string single-quoted-string\">'total_fee'</span> <span class=\"token operator\">=></span> <span class=\"token number\">888</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string single-quoted-string\">'auth_code'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'120061098828009406'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br><span class=\"line-number\">4</span><br><span class=\"line-number\">5</span><br><span class=\"line-number\">6</span><br></div></div><h2 id=\"授权码查询openid接口\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#授权码查询openid接口\" aria-hidden=\"true\">#</a> 授权码查询OPENID接口</h2>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$app</span><span class=\"token operator\">-></span><span class=\"token function\">authCodeToOpenid</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$authCode</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br></div></div><h2 id=\"沙箱模式\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#沙箱模式\" aria-hidden=\"true\">#</a> 沙箱模式</h2>\n<p>微信支付沙箱环境，是提供给微信支付商户的开发者，用于模拟支付及回调通知。以验证商户是否理解回调通知、账单格式，以及是否对异常做了正确的处理。EasyWeChat SDK 对于这一功能进行了封装，开发者只需一步即可在沙箱模式和常规模式间切换，方便开发与最终的部署。</p>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token comment\">// 在实例化的时候传入配置即可</span>\n<span class=\"token variable\">$app</span> <span class=\"token operator\">=</span> <span class=\"token class-name static-context\">Factory</span><span class=\"token operator\">::</span><span class=\"token function\">payment</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n    <span class=\"token comment\">// ...</span>\n    <span class=\"token string single-quoted-string\">'sandbox'</span> <span class=\"token operator\">=></span> <span class=\"token constant boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 设置为 false 或注释则关闭沙箱模式</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 判断当前是否为沙箱模式：</span>\n<span class=\"token keyword type-declaration\">bool</span> <span class=\"token variable\">$app</span><span class=\"token operator\">-></span><span class=\"token function\">inSandbox</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br><span class=\"line-number\">4</span><br><span class=\"line-number\">5</span><br><span class=\"line-number\">6</span><br><span class=\"line-number\">7</span><br><span class=\"line-number\">8</span><br></div></div><blockquote>\n<p>{warning} 特别注意，沙箱模式对于测试用例有严格要求，若使用的用例与规定不符，将导致测试失败。具体用例要求可关注公众号“微信支付商户接入验收助手”（WXPayAssist）查看。</p>\n</blockquote>\n","import { render } from \"./index.html.vue?vue&type=template&id=02695be0\"\nconst script = {}\nscript.render = render\n\nexport default script"],"names":["data","id","tabindex","class","href","target","rel"],"sourceRoot":""}