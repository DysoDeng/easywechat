"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6446],{85149:(n,s,a)=>{a.r(s),a.d(s,{data:()=>e});const e={key:"v-62b73ec6",path:"/3.x/message-transfer.html",title:"多客服消息转发",lang:"en-US",frontmatter:{},excerpt:"",headers:[],filePathRelative:"3.x/message-transfer.md",git:{updatedTime:1629906046e3,contributors:[]}}},34464:(n,s,a)=>{a.r(s),a.d(s,{default:()=>i});var e=a(66252);const p=(0,e.uE)('<h1 id="多客服消息转发" tabindex="-1"><a class="header-anchor" href="#多客服消息转发" aria-hidden="true">#</a> 多客服消息转发</h1><p>多客服的消息转发绝对是超级的简单，转发的消息类型为 <code>transfer</code>：</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code>\n\n  <span class="token comment">// 转发收到的消息给客服</span>\n  <span class="token variable">$server</span><span class="token operator">-&gt;</span><span class="token function">setMessageHandler</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token variable">$message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\\</span>EasyWeChat<span class="token punctuation">\\</span>Message<span class="token punctuation">\\</span>Transfer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token variable">$server</span><span class="token operator">-&gt;</span><span class="token function">serve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">echo</span> <span class="token variable">$result</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>当然，你也可以指定转发给某一个客服：</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token variable">$server</span><span class="token operator">-&gt;</span><span class="token function">setMessageHandler</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token variable">$message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token variable">$transfer</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\\</span>EasyWeChat<span class="token punctuation">\\</span>Message<span class="token punctuation">\\</span>Transfer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token variable">$transfer</span><span class="token operator">-&gt;</span><span class="token function">account</span><span class="token punctuation">(</span><span class="token variable">$account</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 或者 $transfer-&gt;to($account);</span>\n\n    <span class="token keyword">return</span> <span class="token variable">$transfer</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div>',5),t=(0,e.Uk)("更多请参考 "),c={href:"http://mp.weixin.qq.com/wiki/",target:"_blank",rel:"noopener noreferrer"},l=(0,e.Uk)("微信官方文档"),o=(0,e.Uk)(),r=(0,e._)("strong",null,"多客服消息转发",-1),u=(0,e.Uk)(" 章节"),i={render:function(n,s){const a=(0,e.up)("OutboundLink");return(0,e.wg)(),(0,e.iD)(e.HY,null,[p,(0,e._)("p",null,[t,(0,e._)("a",c,[l,(0,e.Wm)(a)]),o,r,u])],64)}}}}]);
//# sourceMappingURL=v-62b73ec6.93991f81.js.map