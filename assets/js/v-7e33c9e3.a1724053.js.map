{"version":3,"file":"assets/js/v-7e33c9e3.a1724053.js","mappings":"gHAAO,MAAMA,EAAO,CAClB,IAAO,aACP,KAAQ,kBACR,MAAS,UACT,KAAQ,QACR,YAAe,GACf,QAAW,GACX,QAAW,CACT,CACE,MAAS,EACT,MAAS,MACT,KAAQ,MACR,SAAY,IAEd,CACE,MAAS,EACT,MAAS,MACT,KAAQ,MACR,SAAY,CACV,CACE,MAAS,EACT,MAAS,MACT,KAAQ,MACR,SAAY,IAEd,CACE,MAAS,EACT,MAAS,aACT,KAAQ,aACR,SAAY,IAEd,CACE,MAAS,EACT,MAAS,KACT,KAAQ,KACR,SAAY,IAEd,CACE,MAAS,EACT,MAAS,sBACT,KAAQ,sBACR,SAAY,IAEd,CACE,MAAS,EACT,MAAS,cACT,KAAQ,cACR,SAAY,IAEd,CACE,MAAS,EACT,MAAS,SACT,KAAQ,SACR,SAAY,MAIlB,CACE,MAAS,EACT,MAAS,2BACT,KAAQ,2BACR,SAAY,IAEd,CACE,MAAS,EACT,MAAS,SACT,KAAQ,SACR,SAAY,IAEd,CACE,MAAS,EACT,MAAS,cACT,KAAQ,cACR,SAAY,IAEd,CACE,MAAS,EACT,MAAS,SACT,KAAQ,SACR,SAAY,KAGhB,iBAAoB,yBACpB,IAAO,CACL,YAAe,aACf,aAAgB,M,sECrFpB,OAA6G,MAAzGC,GAAG,UAAUC,SAAS,M,EAAK,OAAiE,KAA9DC,MAAM,gBAAgBC,KAAK,WAAW,cAAY,QAAO,MAA3F,QAAgG,c,MAAhG,QACG,a,GAAYA,KAAK,4DAA4DC,OAAO,SAASC,IAAI,uB,GADpG,QAC0H,sB,GAD1H,0pG,GAAA,QAmB4F,e,GAnB5F,QAmBmJ,W,GAnBnJ,qnB,GAAA,QAuB4F,e,GAvB5F,QAuBqK,S,GAvBrK,koL,GAiDMF,KAAK,oJAAoJC,OAAO,SAASC,IAAI,uB,GAjDnL,QAiDyM,Y,GAjDzM,kzB,GAAA,QAqD4F,a,GArD5F,QAqDgJ,Q,GAChJ,OAA0G,MAAtGL,GAAG,SAASC,SAAS,M,EAAK,OAAgE,KAA7DC,MAAM,gBAAgBC,KAAK,UAAU,cAAY,QAAO,MAtDzF,QAsD8F,a,MAExFA,KAAK,yHAAyHC,OAAO,SAASC,IAAI,uB,GAxDxJ,QAwD8K,Y,GAxD9K,s5B,GAAA,QA2D4F,a,GA3D5F,QA2DgJ,Q,GA3DhJ,ylaCIA,EAHe,CACf,O,0FDFA,sBACA,OAAmK,UADnK,GACY,OAAmJ,IAAnJ,EAAmJ,CAD/J,GAC4I,QAAe,OAC3J,GAiByF,OAAkF,UAnB3K,GAmBuG,QAAgE,GAApDC,GAAG,8BAA4B,CAnBlJ,kBAmBmJ,IAAO,CAnB1J,aAoBA,GAGyF,OAAkG,UAvB3L,GAuBuG,QAAgF,GAApEA,GAAG,gDAA8C,CAvBpK,kBAuBqK,IAAK,CAvB1K,aAwBA,GAwBA,OAEa,oBADb,OAAwO,WAArO,OAAiO,IAAjO,EAAiO,CAjDpO,GAiDiN,QAAe,SAEhO,GAEyF,OAA4E,UArDrK,GAqDqG,QAA4D,GAAhDA,GAAG,6BAA2B,CArD/I,kBAqDgJ,IAAI,CArDpJ,aAsDA,GACA,OAEa,oBADb,OAA6M,WAA1M,OAAsM,IAAtM,EAAsM,CAxDzM,GAwDsL,QAAe,SAErM,GACyF,OAA4E,UA3DrK,GA2DqG,QAA4D,GAAhDA,GAAG,6BAA2B,CA3D/I,kBA2DgJ,IAAI,CA3DpJ,aA4DA,G","sources":["webpack:///./.vuepress/.temp/pages/6.x/open-work/index.html.js","webpack:///./.vuepress/.temp/pages/6.x/open-work/index.html.vue","webpack:///./.vuepress/.temp/pages/6.x/open-work/index.html.vue?7553"],"sourcesContent":["export const data = {\n  \"key\": \"v-7e33c9e3\",\n  \"path\": \"/6.x/open-work/\",\n  \"title\": \"企业微信服务商\",\n  \"lang\": \"en-US\",\n  \"frontmatter\": {},\n  \"excerpt\": \"\",\n  \"headers\": [\n    {\n      \"level\": 2,\n      \"title\": \"实例化\",\n      \"slug\": \"实例化\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"API\",\n      \"slug\": \"api\",\n      \"children\": [\n        {\n          \"level\": 3,\n          \"title\": \"服务端\",\n          \"slug\": \"服务端\",\n          \"children\": []\n        },\n        {\n          \"level\": 3,\n          \"title\": \"API Client\",\n          \"slug\": \"api-client\",\n          \"children\": []\n        },\n        {\n          \"level\": 3,\n          \"title\": \"配置\",\n          \"slug\": \"配置\",\n          \"children\": []\n        },\n        {\n          \"level\": 3,\n          \"title\": \"ProviderAccessToken\",\n          \"slug\": \"provideraccesstoken\",\n          \"children\": []\n        },\n        {\n          \"level\": 3,\n          \"title\": \"SuiteTicket\",\n          \"slug\": \"suiteticket\",\n          \"children\": []\n        },\n        {\n          \"level\": 3,\n          \"title\": \"开放平台账户\",\n          \"slug\": \"开放平台账户\",\n          \"children\": []\n        }\n      ]\n    },\n    {\n      \"level\": 2,\n      \"title\": \"第三方应用需要在打开的网页里面携带用户的身份信息\",\n      \"slug\": \"第三方应用需要在打开的网页里面携带用户的身份信息\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"企业网页授权\",\n      \"slug\": \"企业网页授权\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"使用授权码获取授权信息\",\n      \"slug\": \"使用授权码获取授权信息\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"获取企业凭证\",\n      \"slug\": \"获取企业凭证\",\n      \"children\": []\n    }\n  ],\n  \"filePathRelative\": \"6.x/open-work/index.md\",\n  \"git\": {\n    \"updatedTime\": 1629906046000,\n    \"contributors\": []\n  }\n}\n","<h1 id=\"企业微信服务商\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#企业微信服务商\" aria-hidden=\"true\">#</a> 企业微信服务商</h1>\n<p>请仔细阅读并理解：<a href=\"https://open.work.weixin.qq.com/api/doc/90001/90142/90594\" target=\"_blank\" rel=\"noopener noreferrer\">企业微信 API - 第三方应用开发<OutboundLink/></a></p>\n<h2 id=\"实例化\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#实例化\" aria-hidden=\"true\">#</a> 实例化</h2>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">EasyWeChat<span class=\"token punctuation\">\\</span>OpenWork<span class=\"token punctuation\">\\</span>Application</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$config</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token string single-quoted-string\">'corp_id'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'wx3cf0f39249eb0exx'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string single-quoted-string\">'provider_secret'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'f1c242f4f28f735d4687abb469072axx'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string single-quoted-string\">'token'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'easywechat'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string single-quoted-string\">'aes_key'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'......'</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$app</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Application</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$config</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</span></code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br><span class=\"line-number\">4</span><br><span class=\"line-number\">5</span><br><span class=\"line-number\">6</span><br><span class=\"line-number\">7</span><br><span class=\"line-number\">8</span><br><span class=\"line-number\">9</span><br><span class=\"line-number\">10</span><br><span class=\"line-number\">11</span><br></div></div><h2 id=\"api\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#api\" aria-hidden=\"true\">#</a> API</h2>\n<p>Application 就是一个工厂类，所有的模块都是从 <code>$app</code> 中访问，并且几乎都提供了协议和 setter 可自定义修改。</p>\n<h3 id=\"服务端\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#服务端\" aria-hidden=\"true\">#</a> 服务端</h3>\n<p>服务端模块封装了服务端相关的便捷操作，隐藏了部分复杂的细节，基于中间件模式可以更方便的处理消息推送和服务端验证。</p>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$app</span><span class=\"token operator\">-></span><span class=\"token function\">getServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br></div></div><p>📖 更多说明请参阅：<RouterLink to=\"/6.x/open-work/server.html\">服务端使用文档</RouterLink></p>\n<h3 id=\"api-client\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#api-client\" aria-hidden=\"true\">#</a> API Client</h3>\n<p>封装了多种模式的 API 调用类，你可以选择自己喜欢的方式调用开放平台任意 API，默认自动处理了 access_token 相关的逻辑。</p>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$app</span><span class=\"token operator\">-></span><span class=\"token function\">getClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br></div></div><p>📖 更多说明请参阅：<RouterLink to=\"/docs/%7B%7Bversion%7D%7D/common/client.html\">API调用</RouterLink></p>\n<h3 id=\"配置\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#配置\" aria-hidden=\"true\">#</a> 配置</h3>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$config</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$app</span><span class=\"token operator\">-></span><span class=\"token function\">getConfig</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br></div></div><p>你可以轻松使用 <code>$config-&gt;get($key, $default)</code> 读取配置，或使用 <code>$config-&gt;set($key, $value)</code> 在调用前修改配置项。</p>\n<h3 id=\"provideraccesstoken\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#provideraccesstoken\" aria-hidden=\"true\">#</a> ProviderAccessToken</h3>\n<p>provider_access_token 是开放平台 API 调用的必备条件，如果你想获取它的值，你可以通过以下方式拿到当前的 provider_access_token：</p>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$providerAccessToken</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$app</span><span class=\"token operator\">-></span><span class=\"token function\">getProviderAccessToken</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$providerAccessToken</span><span class=\"token operator\">-></span><span class=\"token function\">getToken</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// string</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br></div></div><p>当然你也可以使用自己的 ProviderAccessToken 类：</p>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$providerAccessToken</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MyCustomProviderAccessToken</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$app</span><span class=\"token operator\">-></span><span class=\"token function\">setProviderAccessToken</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$providerAccessToken</span><span class=\"token punctuation\">)</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br></div></div><h3 id=\"suiteticket\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#suiteticket\" aria-hidden=\"true\">#</a> SuiteTicket</h3>\n<p>你可以通过以下方式拿到当前 suite_ticket 类：</p>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$suiteTicket</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$app</span><span class=\"token operator\">-></span><span class=\"token function\">getSuiteTicket</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$suiteTicket</span><span class=\"token operator\">-></span><span class=\"token function\">getTicket</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// string</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br></div></div><h3 id=\"开放平台账户\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#开放平台账户\" aria-hidden=\"true\">#</a> 开放平台账户</h3>\n<p>开放平台账号类，提供一系列 API 获取开放平台的基本信息：</p>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$account</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$app</span><span class=\"token operator\">-></span><span class=\"token function\">getAccount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$account</span><span class=\"token operator\">-></span><span class=\"token function\">getCorpId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$account</span><span class=\"token operator\">-></span><span class=\"token function\">getProviderSecret</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$account</span><span class=\"token operator\">-></span><span class=\"token function\">getToken</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$account</span><span class=\"token operator\">-></span><span class=\"token function\">getAesKey</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br><span class=\"line-number\">4</span><br><span class=\"line-number\">5</span><br><span class=\"line-number\">6</span><br></div></div><h2 id=\"第三方应用需要在打开的网页里面携带用户的身份信息\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#第三方应用需要在打开的网页里面携带用户的身份信息\" aria-hidden=\"true\">#</a> 第三方应用需要在打开的网页里面携带用户的身份信息</h2>\n<blockquote>\n<p><a href=\"https://open.work.weixin.qq.com/api/doc/90001/90143/91120#%E6%9E%84%E9%80%A0%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%94%E7%94%A8oauth2%E9%93%BE%E6%8E%A5\" target=\"_blank\" rel=\"noopener noreferrer\">点此查看官方文档<OutboundLink/></a></p>\n</blockquote>\n<p>第三方应用或者网站网页授权的逻辑和公众号的网页授权基本一样：</p>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$oauth</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$app</span><span class=\"token operator\">-></span><span class=\"token function\">getOAuth</span><span class=\"token punctuation\">(</span><span class=\"token keyword type-hint\">string</span> <span class=\"token variable\">$suiteId</span><span class=\"token punctuation\">,</span> <span class=\"token class-name type-declaration\">AccessTokenInterface</span> <span class=\"token variable\">$suiteAccessToken</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br></div></div><p>📖 详情请参考：<RouterLink to=\"/6.x/open-work/oauth.html\">网页授权</RouterLink></p>\n<h2 id=\"企业网页授权\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#企业网页授权\" aria-hidden=\"true\">#</a> 企业网页授权</h2>\n<blockquote>\n<p><a href=\"https://open.work.weixin.qq.com/api/doc/90001/90143/91120#%E6%9E%84%E9%80%A0%E4%BC%81%E4%B8%9Aoauth2%E9%93%BE%E6%8E%A5\" target=\"_blank\" rel=\"noopener noreferrer\">点此查看官方文档<OutboundLink/></a></p>\n</blockquote>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$oauth</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$app</span><span class=\"token operator\">-></span><span class=\"token function\">getCorpOAuth</span><span class=\"token punctuation\">(</span><span class=\"token keyword type-hint\">string</span> <span class=\"token variable\">$corpId</span><span class=\"token punctuation\">,</span> <span class=\"token keyword type-hint\">int</span> <span class=\"token variable\">$agentId</span><span class=\"token punctuation\">,</span> <span class=\"token class-name type-declaration\">AccessTokenInterface</span> <span class=\"token variable\">$suiteAccessToken</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br></div></div><p>📖 详情请参考：<RouterLink to=\"/6.x/open-work/oauth.html\">网页授权</RouterLink></p>\n<h2 id=\"使用授权码获取授权信息\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#使用授权码获取授权信息\" aria-hidden=\"true\">#</a> 使用授权码获取授权信息</h2>\n<p>在用户在授权页授权流程完成后，授权页会自动跳转进入回调URI，并在URL参数中返回授权码和过期时间，如：(<code>https://easywechat.com/callback?auth_code=xxx&amp;expires_in=600</code>)</p>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$permanentCode</span> <span class=\"token operator\">=</span> <span class=\"token string single-quoted-string\">'企业永久授权码'</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$suiteAccessToken</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SuiteAccessToken</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$suiteId</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$suiteSecret</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$authorization</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$app</span><span class=\"token operator\">-></span><span class=\"token function\">getAuthorization</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$corpId</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$authorizatpermanentCodeionCode</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$suiteAccessToken</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$authorization</span><span class=\"token operator\">-></span><span class=\"token function\">getCorpId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// auth_corp_info.corpid</span>\n<span class=\"token variable\">$authorization</span><span class=\"token operator\">-></span><span class=\"token function\">toArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$authorization</span><span class=\"token operator\">-></span><span class=\"token function\">toJson</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// {</span>\n<span class=\"token comment\">//     \"errcode\":0 ,</span>\n<span class=\"token comment\">//     \"errmsg\":\"ok\" ,</span>\n<span class=\"token comment\">//     \"dealer_corp_info\":</span>\n<span class=\"token comment\">//     {</span>\n<span class=\"token comment\">//         \"corpid\": \"xxxx\",</span>\n<span class=\"token comment\">//         \"corp_name\": \"name\"</span>\n<span class=\"token comment\">//     },</span>\n<span class=\"token comment\">//     \"auth_corp_info\":</span>\n<span class=\"token comment\">//     {</span>\n<span class=\"token comment\">//         \"corpid\": \"xxxx\",</span>\n<span class=\"token comment\">//         \"corp_name\": \"name\",</span>\n<span class=\"token comment\">//         \"corp_type\": \"verified\",</span>\n<span class=\"token comment\">//         \"corp_square_logo_url\": \"yyyyy\",</span>\n<span class=\"token comment\">//         \"corp_user_max\": 50,</span>\n<span class=\"token comment\">//         \"corp_agent_max\": 30,</span>\n<span class=\"token comment\">//         \"corp_full_name\":\"full_name\",</span>\n<span class=\"token comment\">//         \"verified_end_time\":1431775834,</span>\n<span class=\"token comment\">//         \"subject_type\": 1,</span>\n<span class=\"token comment\">//         \"corp_wxqrcode\": \"zzzzz\",</span>\n<span class=\"token comment\">//         \"corp_scale\": \"1-50人\",</span>\n<span class=\"token comment\">//         \"corp_industry\": \"IT服务\",</span>\n<span class=\"token comment\">//         \"corp_sub_industry\": \"计算机软件/硬件/信息服务\",</span>\n<span class=\"token comment\">//         \"location\":\"广东省广州市\"</span>\n<span class=\"token comment\">//     },</span>\n<span class=\"token comment\">//     \"auth_info\":</span>\n<span class=\"token comment\">//     {</span>\n<span class=\"token comment\">//         \"agent\" :</span>\n<span class=\"token comment\">//         [</span>\n<span class=\"token comment\">//             {</span>\n<span class=\"token comment\">//                 \"agentid\":1,</span>\n<span class=\"token comment\">//                 \"name\":\"NAME\",</span>\n<span class=\"token comment\">//                 \"round_logo_url\":\"xxxxxx\",</span>\n<span class=\"token comment\">//                 \"square_logo_url\":\"yyyyyy\",</span>\n<span class=\"token comment\">//                 \"appid\":1,</span>\n<span class=\"token comment\">//                 \"auth_mode\":1,</span>\n<span class=\"token comment\">//                 \"privilege\":</span>\n<span class=\"token comment\">//                 {</span>\n<span class=\"token comment\">//                     \"level\":1,</span>\n<span class=\"token comment\">//                     \"allow_party\":[1,2,3],</span>\n<span class=\"token comment\">//                     \"allow_user\":[\"zhansan\",\"lisi\"],</span>\n<span class=\"token comment\">//                     \"allow_tag\":[1,2,3],</span>\n<span class=\"token comment\">//                     \"extra_party\":[4,5,6],</span>\n<span class=\"token comment\">//                     \"extra_user\":[\"wangwu\"],</span>\n<span class=\"token comment\">//                     \"extra_tag\":[4,5,6]</span>\n<span class=\"token comment\">//                 },</span>\n<span class=\"token comment\">//                 \"shared_from\":</span>\n<span class=\"token comment\">//                 {</span>\n<span class=\"token comment\">//                     \"corpid\":\"wwyyyyy\"</span>\n<span class=\"token comment\">//                 }</span>\n<span class=\"token comment\">//             },</span>\n<span class=\"token comment\">//             {</span>\n<span class=\"token comment\">//                 \"agentid\":2,</span>\n<span class=\"token comment\">//                 \"name\":\"NAME2\",</span>\n<span class=\"token comment\">//                 \"round_logo_url\":\"xxxxxx\",</span>\n<span class=\"token comment\">//                 \"square_logo_url\":\"yyyyyy\",</span>\n<span class=\"token comment\">//                 \"appid\":5,</span>\n<span class=\"token comment\">//                 \"shared_from\":</span>\n<span class=\"token comment\">//                 {</span>\n<span class=\"token comment\">//                     \"corpid\":\"wwyyyyy\"</span>\n<span class=\"token comment\">//                 }</span>\n<span class=\"token comment\">//             }</span>\n<span class=\"token comment\">//         ]</span>\n<span class=\"token comment\">//     }</span>\n<span class=\"token comment\">// }</span>\n\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br><span class=\"line-number\">4</span><br><span class=\"line-number\">5</span><br><span class=\"line-number\">6</span><br><span class=\"line-number\">7</span><br><span class=\"line-number\">8</span><br><span class=\"line-number\">9</span><br><span class=\"line-number\">10</span><br><span class=\"line-number\">11</span><br><span class=\"line-number\">12</span><br><span class=\"line-number\">13</span><br><span class=\"line-number\">14</span><br><span class=\"line-number\">15</span><br><span class=\"line-number\">16</span><br><span class=\"line-number\">17</span><br><span class=\"line-number\">18</span><br><span class=\"line-number\">19</span><br><span class=\"line-number\">20</span><br><span class=\"line-number\">21</span><br><span class=\"line-number\">22</span><br><span class=\"line-number\">23</span><br><span class=\"line-number\">24</span><br><span class=\"line-number\">25</span><br><span class=\"line-number\">26</span><br><span class=\"line-number\">27</span><br><span class=\"line-number\">28</span><br><span class=\"line-number\">29</span><br><span class=\"line-number\">30</span><br><span class=\"line-number\">31</span><br><span class=\"line-number\">32</span><br><span class=\"line-number\">33</span><br><span class=\"line-number\">34</span><br><span class=\"line-number\">35</span><br><span class=\"line-number\">36</span><br><span class=\"line-number\">37</span><br><span class=\"line-number\">38</span><br><span class=\"line-number\">39</span><br><span class=\"line-number\">40</span><br><span class=\"line-number\">41</span><br><span class=\"line-number\">42</span><br><span class=\"line-number\">43</span><br><span class=\"line-number\">44</span><br><span class=\"line-number\">45</span><br><span class=\"line-number\">46</span><br><span class=\"line-number\">47</span><br><span class=\"line-number\">48</span><br><span class=\"line-number\">49</span><br><span class=\"line-number\">50</span><br><span class=\"line-number\">51</span><br><span class=\"line-number\">52</span><br><span class=\"line-number\">53</span><br><span class=\"line-number\">54</span><br><span class=\"line-number\">55</span><br><span class=\"line-number\">56</span><br><span class=\"line-number\">57</span><br><span class=\"line-number\">58</span><br><span class=\"line-number\">59</span><br><span class=\"line-number\">60</span><br><span class=\"line-number\">61</span><br><span class=\"line-number\">62</span><br><span class=\"line-number\">63</span><br><span class=\"line-number\">64</span><br><span class=\"line-number\">65</span><br><span class=\"line-number\">66</span><br><span class=\"line-number\">67</span><br><span class=\"line-number\">68</span><br><span class=\"line-number\">69</span><br><span class=\"line-number\">70</span><br><span class=\"line-number\">71</span><br><span class=\"line-number\">72</span><br><span class=\"line-number\">73</span><br><span class=\"line-number\">74</span><br><span class=\"line-number\">75</span><br></div></div><h2 id=\"获取企业凭证\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#获取企业凭证\" aria-hidden=\"true\">#</a> 获取企业凭证</h2>\n<p>在公众号/小程序接口调用令牌（<code>authorizer_access_token</code>）失效时，可以使用刷新令牌（authorizer_refresh_token）获取新的接口调用令牌。</p>\n<blockquote>\n<p>{warning} 注意： <code>authorizer_access_token</code> 有效期为 2 小时，开发者需要缓存 <code>authorizer_access_token</code>，避免获取/刷新接口调用令牌的 API 调用触发每日限额。缓存方法可以参考：https://developers.weixin.qq.com/doc/offiaccount/Basic_Information/Get_access_token.html</p>\n</blockquote>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$permanentCode</span> <span class=\"token operator\">=</span> <span class=\"token string single-quoted-string\">'企业永久授权码'</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$suiteAccessToken</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SuiteAccessToken</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$suiteId</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$suiteSecret</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$authorizerAccessToken</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$app</span><span class=\"token operator\">-></span><span class=\"token function\">getAuthorizerAccessToken</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$corpId</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$permanentCode</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$suiteAccessToken</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// {</span>\n<span class=\"token comment\">//     \"errcode\":0 ,</span>\n<span class=\"token comment\">//     \"errmsg\":\"ok\" ,</span>\n<span class=\"token comment\">//     \"access_token\": \"xxxxxx\",</span>\n<span class=\"token comment\">//     \"expires_in\": 7200</span>\n<span class=\"token comment\">// }</span>\n\n\n<span class=\"token variable\">$authorizerAccessToken</span><span class=\"token operator\">-></span><span class=\"token function\">getToken</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// string</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br><span class=\"line-number\">4</span><br><span class=\"line-number\">5</span><br><span class=\"line-number\">6</span><br><span class=\"line-number\">7</span><br><span class=\"line-number\">8</span><br><span class=\"line-number\">9</span><br><span class=\"line-number\">10</span><br><span class=\"line-number\">11</span><br><span class=\"line-number\">12</span><br><span class=\"line-number\">13</span><br><span class=\"line-number\">14</span><br></div></div><hr>\n<p>todo: 调用企业 API</p>\n","import { render } from \"./index.html.vue?vue&type=template&id=519c08cb\"\nconst script = {}\nscript.render = render\n\nexport default script"],"names":["data","id","tabindex","class","href","target","rel","to"],"sourceRoot":""}