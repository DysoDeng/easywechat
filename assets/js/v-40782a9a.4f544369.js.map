{"version":3,"file":"assets/js/v-40782a9a.4f544369.js","mappings":"+GAAO,MAAMA,EAAO,CAClB,IAAO,aACP,KAAQ,gBACR,MAAS,KACT,KAAQ,QACR,YAAe,GACf,QAAW,GACX,QAAW,CACT,CACE,MAAS,EACT,MAAS,OACT,KAAQ,OACR,SAAY,IAEd,CACE,MAAS,EACT,MAAS,OACT,KAAQ,OACR,SAAY,IAEd,CACE,MAAS,EACT,MAAS,WACT,KAAQ,WACR,SAAY,IAEd,CACE,MAAS,EACT,MAAS,SACT,KAAQ,SACR,SAAY,IAEd,CACE,MAAS,EACT,MAAS,SACT,KAAQ,SACR,SAAY,IAEd,CACE,MAAS,EACT,MAAS,OACT,KAAQ,OACR,SAAY,IAEd,CACE,MAAS,EACT,MAAS,MACT,KAAQ,MACR,SAAY,KAGhB,iBAAoB,aACpB,IAAO,CACL,YAAe,aACf,aAAgB,M,sECtDpB,oqD,GAAA,QAWG,8G,GAXH,QAWgI,Q,GAXhI,kwjBCIA,EAHe,CACf,O,+DDFA,sBAWA,OAAqJ,UAXrJ,GAW6G,QAAoC,GAAxBC,GAAG,KAAG,CAX/H,kBAWgI,IAAI,CAXpI,aAYA,G","sources":["webpack:///./.vuepress/.temp/pages/3.x/poi.html.js","webpack:///./.vuepress/.temp/pages/3.x/poi.html.vue","webpack:///./.vuepress/.temp/pages/3.x/poi.html.vue?bcf8"],"sourcesContent":["export const data = {\n  \"key\": \"v-40782a9a\",\n  \"path\": \"/3.x/poi.html\",\n  \"title\": \"门店\",\n  \"lang\": \"en-US\",\n  \"frontmatter\": {},\n  \"excerpt\": \"\",\n  \"headers\": [\n    {\n      \"level\": 2,\n      \"title\": \"获取实例\",\n      \"slug\": \"获取实例\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"创建门店\",\n      \"slug\": \"创建门店\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"获取指定门店信息\",\n      \"slug\": \"获取指定门店信息\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"获取门店列表\",\n      \"slug\": \"获取门店列表\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"修改门店信息\",\n      \"slug\": \"修改门店信息\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"删除门店\",\n      \"slug\": \"删除门店\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"错误码\",\n      \"slug\": \"错误码\",\n      \"children\": []\n    }\n  ],\n  \"filePathRelative\": \"3.x/poi.md\",\n  \"git\": {\n    \"updatedTime\": 1629906046000,\n    \"contributors\": []\n  }\n}\n","<h1 id=\"门店\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#门店\" aria-hidden=\"true\">#</a> 门店</h1>\n<h2 id=\"获取实例\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#获取实例\" aria-hidden=\"true\">#</a> 获取实例</h2>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">EasyWeChat<span class=\"token punctuation\">\\</span>Foundation<span class=\"token punctuation\">\\</span>Application</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// ...</span>\n\n<span class=\"token variable\">$app</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Application</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$options</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$poi</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$app</span><span class=\"token operator\">-></span><span class=\"token property\">poi</span><span class=\"token punctuation\">;</span>\n</span></code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br><span class=\"line-number\">4</span><br><span class=\"line-number\">5</span><br><span class=\"line-number\">6</span><br><span class=\"line-number\">7</span><br><span class=\"line-number\">8</span><br></div></div><h2 id=\"创建门店\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#创建门店\" aria-hidden=\"true\">#</a> 创建门店</h2>\n<p>用 POI 接口新建门店时所使用的图片 url 必须为微信自己域名的 url,因此需要先用上传图片接 口上传图片并获取 url,再创建门店。上传的图片限制文件大小限制 1MB,支持 JPG 格式，图片接口请参考：<RouterLink to=\"/\">TODO</RouterLink></p>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$poi</span><span class=\"token operator\">-></span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$baseInfo</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br></div></div><ul>\n<li><code>$baseInfo</code> 为门店的基本信息数组</li>\n</ul>\n<p>example:</p>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n\n<span class=\"token variable\">$info</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span>\n         <span class=\"token string double-quoted-string\">\"sid\"</span>             <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"33788392\"</span><span class=\"token punctuation\">,</span>\n         <span class=\"token string double-quoted-string\">\"business_name\"</span>   <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"麦当劳\"</span><span class=\"token punctuation\">,</span>\n         <span class=\"token string double-quoted-string\">\"branch_name\"</span>     <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"艺苑路店\"</span><span class=\"token punctuation\">,</span>\n         <span class=\"token string double-quoted-string\">\"province\"</span>        <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"广东省\"</span><span class=\"token punctuation\">,</span>\n         <span class=\"token string double-quoted-string\">\"city\"</span>            <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"广州市\"</span><span class=\"token punctuation\">,</span>\n         <span class=\"token string double-quoted-string\">\"district\"</span>        <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"海珠区\"</span><span class=\"token punctuation\">,</span>\n         <span class=\"token string double-quoted-string\">\"address\"</span>         <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"艺苑路 11 号\"</span><span class=\"token punctuation\">,</span>\n         <span class=\"token string double-quoted-string\">\"telephone\"</span>       <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"020-12345678\"</span><span class=\"token punctuation\">,</span>\n         <span class=\"token string double-quoted-string\">\"categories\"</span>      <span class=\"token operator\">=></span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span><span class=\"token string double-quoted-string\">\"美食,快餐小吃\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n         <span class=\"token string double-quoted-string\">\"offset_type\"</span>     <span class=\"token operator\">=></span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n         <span class=\"token string double-quoted-string\">\"longitude\"</span>       <span class=\"token operator\">=></span> <span class=\"token number\">115.32375</span><span class=\"token punctuation\">,</span>\n         <span class=\"token string double-quoted-string\">\"latitude\"</span>        <span class=\"token operator\">=></span> <span class=\"token number\">25.097486</span><span class=\"token punctuation\">,</span>\n         <span class=\"token string double-quoted-string\">\"photo_list\"</span>      <span class=\"token operator\">=></span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span>\n                               <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span><span class=\"token string double-quoted-string\">\"photo_url\"</span> <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"https://XXX.com\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                               <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span><span class=\"token string double-quoted-string\">\"photo_url\"</span> <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"https://XXX.com\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                             <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n         <span class=\"token string double-quoted-string\">\"recommend\"</span>       <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"麦辣鸡腿堡套餐,麦乐鸡,全家桶\"</span><span class=\"token punctuation\">,</span>\n         <span class=\"token string double-quoted-string\">\"special\"</span>         <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"免费 wifi,外卖服务\"</span><span class=\"token punctuation\">,</span>\n         <span class=\"token string double-quoted-string\">\"introduction\"</span>    <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"麦当劳是全球大型跨国连锁餐厅,1940 年创立于美国,在世界上大约拥有 3  万间分店。主要售卖汉堡包,以及薯条、炸鸡、汽水、冰品、沙拉、水果等 快餐食品\"</span><span class=\"token punctuation\">,</span>\n         <span class=\"token string double-quoted-string\">\"open_time\"</span>       <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"8:00-20:00\"</span><span class=\"token punctuation\">,</span>\n         <span class=\"token string double-quoted-string\">\"avg_price\"</span>       <span class=\"token operator\">=></span> <span class=\"token number\">35</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$result</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$poi</span><span class=\"token operator\">-></span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$info</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true or exception</span>\n</span></code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br><span class=\"line-number\">4</span><br><span class=\"line-number\">5</span><br><span class=\"line-number\">6</span><br><span class=\"line-number\">7</span><br><span class=\"line-number\">8</span><br><span class=\"line-number\">9</span><br><span class=\"line-number\">10</span><br><span class=\"line-number\">11</span><br><span class=\"line-number\">12</span><br><span class=\"line-number\">13</span><br><span class=\"line-number\">14</span><br><span class=\"line-number\">15</span><br><span class=\"line-number\">16</span><br><span class=\"line-number\">17</span><br><span class=\"line-number\">18</span><br><span class=\"line-number\">19</span><br><span class=\"line-number\">20</span><br><span class=\"line-number\">21</span><br><span class=\"line-number\">22</span><br><span class=\"line-number\">23</span><br><span class=\"line-number\">24</span><br><span class=\"line-number\">25</span><br><span class=\"line-number\">26</span><br><span class=\"line-number\">27</span><br></div></div><blockquote>\n<p>注意：新创建的门店在审核通过后,会以事件形式推送给商户填写的回调URL</p>\n</blockquote>\n<h2 id=\"获取指定门店信息\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#获取指定门店信息\" aria-hidden=\"true\">#</a> 获取指定门店信息</h2>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$poi</span><span class=\"token operator\">-></span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$poiId</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br></div></div><ul>\n<li><code>$poiId</code> 为门店ID</li>\n</ul>\n<p>example:</p>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$info</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$poi</span><span class=\"token operator\">-></span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token number\">271262077</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">var_dump</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$info</span><span class=\"token operator\">-></span><span class=\"token property\">business_name</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 麦当劳</span>\n<span class=\"token function\">var_dump</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$info</span><span class=\"token operator\">-></span><span class=\"token property\">introduction</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 麦当劳是全球大型跨国连锁餐厅...</span>\n<span class=\"token function\">var_dump</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$info</span><span class=\"token operator\">-></span><span class=\"token function\">toArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// array('business_name' => '麦当劳', 'branch_name' => '艺苑路店', ...);</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br><span class=\"line-number\">4</span><br></div></div><h2 id=\"获取门店列表\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#获取门店列表\" aria-hidden=\"true\">#</a> 获取门店列表</h2>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$poi</span><span class=\"token operator\">-></span><span class=\"token function\">lists</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$begin</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$limit</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// begin:0, limit:10</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br></div></div><ul>\n<li><code>$begin</code> 就是查询起点，<code>MySQL</code> 里的 <code>offset</code>；</li>\n<li><code>$limit</code> 查询条数，同 <code>MySQL</code> 里的 <code>limit</code>；</li>\n</ul>\n<blockquote>\n<p>两参数均可选</p>\n</blockquote>\n<p>example:</p>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$pois</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$poi</span><span class=\"token operator\">-></span><span class=\"token function\">lists</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// 取2条记录</span>\n<span class=\"token comment\">//</span>\n<span class=\"token comment\">//[</span>\n<span class=\"token comment\">//  {</span>\n<span class=\"token comment\">//    \"sid\": \"100\",</span>\n<span class=\"token comment\">//    \"poi_id\": \"271864249\",</span>\n<span class=\"token comment\">//    \"business_name\": \"麦当劳\",</span>\n<span class=\"token comment\">//    \"branch_name\": \"艺苑路店\",</span>\n<span class=\"token comment\">//    \"address\": \"艺苑路 11 号\",</span>\n<span class=\"token comment\">//    \"available_state\": 3</span>\n<span class=\"token comment\">//  },</span>\n<span class=\"token comment\">//  {</span>\n<span class=\"token comment\">//    \"sid\": \"101\",</span>\n<span class=\"token comment\">//    \"business_name\": \"麦当劳\",</span>\n<span class=\"token comment\">//    \"branch_name\": \"赤岗路店\",</span>\n<span class=\"token comment\">//    \"address\": \"赤岗路 102 号\",</span>\n<span class=\"token comment\">//    \"available_state\": 4</span>\n<span class=\"token comment\">//  }</span>\n<span class=\"token comment\">//]</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br><span class=\"line-number\">4</span><br><span class=\"line-number\">5</span><br><span class=\"line-number\">6</span><br><span class=\"line-number\">7</span><br><span class=\"line-number\">8</span><br><span class=\"line-number\">9</span><br><span class=\"line-number\">10</span><br><span class=\"line-number\">11</span><br><span class=\"line-number\">12</span><br><span class=\"line-number\">13</span><br><span class=\"line-number\">14</span><br><span class=\"line-number\">15</span><br><span class=\"line-number\">16</span><br><span class=\"line-number\">17</span><br><span class=\"line-number\">18</span><br><span class=\"line-number\">19</span><br></div></div><h2 id=\"修改门店信息\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#修改门店信息\" aria-hidden=\"true\">#</a> 修改门店信息</h2>\n<p>商户可以通过该接口,修改门店的服务信息,包括:图片列表、营业时间、推荐、特色服务、简 介、人均价格、电话 7 个字段。目前基础字段包括(名称、坐标、地址等不可修改)。</p>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$poi</span><span class=\"token operator\">-></span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$poiId</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$data</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br></div></div><ul>\n<li><code>$poiId</code> 为门店ID</li>\n<li><code>$data</code> 需要更新的部分数据，<strong>若有填写内容则为覆盖更新,若无内容则视为不 修改,维持原有内容。photo_list 字段为全列表覆盖,若需要增加图片,需将之前图片同样放入 list 中,在其后增加新增图片。如:已有 A、B、C 三张图片,又要增加 D、E 两张图,则需要调 用该接口,photo_list 传入 A、B、C、D、E 五张图片的链接。</strong></li>\n</ul>\n<p>example:</p>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$data</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span>\n         <span class=\"token string double-quoted-string\">\"telephone\"</span> <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"020-12345678\"</span><span class=\"token punctuation\">,</span>\n         <span class=\"token string double-quoted-string\">\"recommend\"</span> <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"麦辣鸡腿堡套餐,麦乐鸡,全家桶\"</span><span class=\"token punctuation\">,</span>\n         <span class=\"token comment\">//...</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$res</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$poi</span><span class=\"token operator\">-></span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token number\">271262077</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$data</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//true or exception</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br><span class=\"line-number\">4</span><br><span class=\"line-number\">5</span><br><span class=\"line-number\">6</span><br><span class=\"line-number\">7</span><br></div></div><h2 id=\"删除门店\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#删除门店\" aria-hidden=\"true\">#</a> 删除门店</h2>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$poi</span><span class=\"token operator\">-></span><span class=\"token function\">delete</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$poiId</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br></div></div><p>example:</p>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$poi</span><span class=\"token operator\">-></span><span class=\"token function\">delete</span><span class=\"token punctuation\">(</span><span class=\"token number\">271262077</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// true or exception</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br></div></div><h2 id=\"错误码\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#错误码\" aria-hidden=\"true\">#</a> 错误码</h2>\n<ul>\n<li><code>invalid categories</code> 分类不合法,必须严格按照附表的分类填写</li>\n<li><code>invalid photo url</code> 图片 url 不合法,必须使用接口 1 的图片上传 接口所获取的 url</li>\n<li><code>poi audit state must be approved</code> 门店状态必须未审核通过</li>\n<li><code>invalid poiid</code>   poi_id 不正确</li>\n<li><code>invalid args</code>  参数不正确,请检查 json 字段</li>\n<li><code>system error</code>  系统错误,请稍后重试</li>\n</ul>\n","import { render } from \"./poi.html.vue?vue&type=template&id=1ae32c33\"\nconst script = {}\nscript.render = render\n\nexport default script"],"names":["data","to"],"sourceRoot":""}