{"version":3,"file":"assets/js/v-833a9ca4.0bb900fd.js","mappings":"gHAAO,MAAMA,EAAO,CAClB,IAAO,aACP,KAAQ,0BACR,MAAS,KACT,KAAQ,QACR,YAAe,GACf,QAAW,GACX,QAAW,CACT,CACE,MAAS,EACT,MAAS,OACT,KAAQ,OACR,SAAY,KAGhB,iBAAoB,uBACpB,IAAO,CACL,YAAe,aACf,aAAgB,M,uDClBpB,E,SAAA,yyYCIA,EAHe,CACf,O,qBDFA","sources":["webpack:///./.vuepress/.temp/pages/3.x/configuration.html.js","webpack:///./.vuepress/.temp/pages/3.x/configuration.html.vue","webpack:///./.vuepress/.temp/pages/3.x/configuration.html.vue?7020"],"sourcesContent":["export const data = {\n  \"key\": \"v-833a9ca4\",\n  \"path\": \"/3.x/configuration.html\",\n  \"title\": \"配置\",\n  \"lang\": \"en-US\",\n  \"frontmatter\": {},\n  \"excerpt\": \"\",\n  \"headers\": [\n    {\n      \"level\": 2,\n      \"title\": \"日志文件\",\n      \"slug\": \"日志文件\",\n      \"children\": []\n    }\n  ],\n  \"filePathRelative\": \"3.x/configuration.md\",\n  \"git\": {\n    \"updatedTime\": 1629906046000,\n    \"contributors\": []\n  }\n}\n","<h1 id=\"配置\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#配置\" aria-hidden=\"true\">#</a> 配置</h1>\n<p>在前面我们已经讲过，初始化 SDK 的时候方法就是创建一个 <code>EasyWeChat\\Foundation\\Application</code> 实例：</p>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token keyword\">use</span> <span class=\"token package\">EasyWeChat<span class=\"token punctuation\">\\</span>Foundation<span class=\"token punctuation\">\\</span>Application</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$options</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n   <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$app</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Application</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$options</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token doc-comment comment\">/**\n* 如果想要在Application实例化完成之后, 修改某一个options的值,\n* 比如服务商+子商户支付回调场景, 所有子商户订单支付信息都是通过同一个服务商的$option 配置进来的,\n* 当oauth在微信端验证完成之后, 可以通过动态设置merchant_id来区分具体是哪个子商户\n*/</span>\n<span class=\"token variable\">$app</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'config'</span><span class=\"token punctuation\">]</span><span class=\"token operator\">-></span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'oauth.callback'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'wechat/oauthcallback/'</span><span class=\"token operator\">.</span> <span class=\"token variable\">$sub_merchant_id</span><span class=\"token operator\">-></span><span class=\"token property\">id</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br><span class=\"line-number\">4</span><br><span class=\"line-number\">5</span><br><span class=\"line-number\">6</span><br><span class=\"line-number\">7</span><br><span class=\"line-number\">8</span><br><span class=\"line-number\">9</span><br><span class=\"line-number\">10</span><br><span class=\"line-number\">11</span><br><span class=\"line-number\">12</span><br><span class=\"line-number\">13</span><br><span class=\"line-number\">14</span><br></div></div><p>那么配置的具体选项有哪些，下面是一个完整的列表：</p>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n\n<span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token doc-comment comment\">/**\n     * Debug 模式，bool 值：true/false\n     *\n     * 当值为 false 时，所有的日志都不会记录\n     */</span>\n    <span class=\"token string single-quoted-string\">'debug'</span>  <span class=\"token operator\">=></span> <span class=\"token constant boolean\">true</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token doc-comment comment\">/**\n     * 账号基本信息，请从微信公众平台/开放平台获取\n     */</span>\n    <span class=\"token string single-quoted-string\">'app_id'</span>  <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'your-app-id'</span><span class=\"token punctuation\">,</span>         <span class=\"token comment\">// AppID</span>\n    <span class=\"token string single-quoted-string\">'secret'</span>  <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'your-app-secret'</span><span class=\"token punctuation\">,</span>     <span class=\"token comment\">// AppSecret</span>\n    <span class=\"token string single-quoted-string\">'token'</span>   <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'your-token'</span><span class=\"token punctuation\">,</span>          <span class=\"token comment\">// Token</span>\n    <span class=\"token string single-quoted-string\">'aes_key'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">''</span><span class=\"token punctuation\">,</span>                    <span class=\"token comment\">// EncodingAESKey，安全模式与兼容模式下请一定要填写！！！</span>\n\n    <span class=\"token doc-comment comment\">/**\n     * 日志配置\n     *\n     * level: 日志级别, 可选为：\n     *         debug/info/notice/warning/error/critical/alert/emergency\n     * permission：日志文件权限(可选)，默认为null（若为null值,monolog会取0644）\n     * file：日志文件位置(绝对路径!!!)，要求可写权限\n     */</span>\n    <span class=\"token string single-quoted-string\">'log'</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">[</span>\n        <span class=\"token string single-quoted-string\">'level'</span>      <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'debug'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string single-quoted-string\">'permission'</span> <span class=\"token operator\">=></span> <span class=\"token number\">0777</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string single-quoted-string\">'file'</span>       <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'/tmp/easywechat.log'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token doc-comment comment\">/**\n     * OAuth 配置\n     *\n     * scopes：公众平台（snsapi_userinfo / snsapi_base），开放平台：snsapi_login\n     * callback：OAuth授权完成后的回调页地址\n     */</span>\n    <span class=\"token string single-quoted-string\">'oauth'</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">[</span>\n        <span class=\"token string single-quoted-string\">'scopes'</span>   <span class=\"token operator\">=></span> <span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'snsapi_userinfo'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string single-quoted-string\">'callback'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'/examples/oauth_callback.php'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token doc-comment comment\">/**\n     * 微信支付\n     */</span>\n    <span class=\"token string single-quoted-string\">'payment'</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">[</span>\n        <span class=\"token string single-quoted-string\">'merchant_id'</span>        <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'your-mch-id'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string single-quoted-string\">'key'</span>                <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'key-for-signature'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string single-quoted-string\">'cert_path'</span>          <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'path/to/your/cert.pem'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// XXX: 绝对路径！！！！</span>\n        <span class=\"token string single-quoted-string\">'key_path'</span>           <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'path/to/your/key'</span><span class=\"token punctuation\">,</span>      <span class=\"token comment\">// XXX: 绝对路径！！！！</span>\n        <span class=\"token comment\">// 'device_info'     => '013467007045764',</span>\n        <span class=\"token comment\">// 'sub_app_id'      => '',</span>\n        <span class=\"token comment\">// 'sub_merchant_id' => '',</span>\n        <span class=\"token comment\">// ...</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token doc-comment comment\">/**\n     * Guzzle 全局设置\n     *\n     * 更多请参考： http://docs.guzzlephp.org/en/latest/request-options.html\n     */</span>\n    <span class=\"token string single-quoted-string\">'guzzle'</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">[</span>\n        <span class=\"token string single-quoted-string\">'timeout'</span> <span class=\"token operator\">=></span> <span class=\"token number\">3.0</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 超时时间（秒）</span>\n        <span class=\"token comment\">//'verify' => false, // 关掉 SSL 认证（强烈不建议！！！）</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n</span></code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br><span class=\"line-number\">4</span><br><span class=\"line-number\">5</span><br><span class=\"line-number\">6</span><br><span class=\"line-number\">7</span><br><span class=\"line-number\">8</span><br><span class=\"line-number\">9</span><br><span class=\"line-number\">10</span><br><span class=\"line-number\">11</span><br><span class=\"line-number\">12</span><br><span class=\"line-number\">13</span><br><span class=\"line-number\">14</span><br><span class=\"line-number\">15</span><br><span class=\"line-number\">16</span><br><span class=\"line-number\">17</span><br><span class=\"line-number\">18</span><br><span class=\"line-number\">19</span><br><span class=\"line-number\">20</span><br><span class=\"line-number\">21</span><br><span class=\"line-number\">22</span><br><span class=\"line-number\">23</span><br><span class=\"line-number\">24</span><br><span class=\"line-number\">25</span><br><span class=\"line-number\">26</span><br><span class=\"line-number\">27</span><br><span class=\"line-number\">28</span><br><span class=\"line-number\">29</span><br><span class=\"line-number\">30</span><br><span class=\"line-number\">31</span><br><span class=\"line-number\">32</span><br><span class=\"line-number\">33</span><br><span class=\"line-number\">34</span><br><span class=\"line-number\">35</span><br><span class=\"line-number\">36</span><br><span class=\"line-number\">37</span><br><span class=\"line-number\">38</span><br><span class=\"line-number\">39</span><br><span class=\"line-number\">40</span><br><span class=\"line-number\">41</span><br><span class=\"line-number\">42</span><br><span class=\"line-number\">43</span><br><span class=\"line-number\">44</span><br><span class=\"line-number\">45</span><br><span class=\"line-number\">46</span><br><span class=\"line-number\">47</span><br><span class=\"line-number\">48</span><br><span class=\"line-number\">49</span><br><span class=\"line-number\">50</span><br><span class=\"line-number\">51</span><br><span class=\"line-number\">52</span><br><span class=\"line-number\">53</span><br><span class=\"line-number\">54</span><br><span class=\"line-number\">55</span><br><span class=\"line-number\">56</span><br><span class=\"line-number\">57</span><br><span class=\"line-number\">58</span><br><span class=\"line-number\">59</span><br><span class=\"line-number\">60</span><br><span class=\"line-number\">61</span><br><span class=\"line-number\">62</span><br><span class=\"line-number\">63</span><br><span class=\"line-number\">64</span><br><span class=\"line-number\">65</span><br><span class=\"line-number\">66</span><br><span class=\"line-number\">67</span><br></div></div><blockquote>\n<p>❤️ 安全模式下请一定要填写 <code>aes_key</code></p>\n</blockquote>\n<h2 id=\"日志文件\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#日志文件\" aria-hidden=\"true\">#</a> 日志文件</h2>\n<p>配置文件里的<code>/tmp/...</code>是绝对路径</p>\n<p>如果在 windows 下，去把它改成<code>C:\\foo\\bar</code>的形式，\n如果是 Linux ，你已经懂了……</p>\n<p>如果需要按日独立存储，可以配置成<code>'file'  =&gt; storage_path('/tmp/easywechat/easywechat_'.date('Ymd').'.log'),</code></p>\n<p>其它同理……</p>\n","import { render } from \"./configuration.html.vue?vue&type=template&id=f497ea38\"\nconst script = {}\nscript.render = render\n\nexport default script"],"names":["data"],"sourceRoot":""}