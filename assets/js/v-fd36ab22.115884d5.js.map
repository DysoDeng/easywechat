{"version":3,"file":"assets/js/v-fd36ab22.115884d5.js","mappings":"gHAAO,MAAMA,EAAO,CAClB,IAAO,aACP,KAAQ,iBACR,MAAS,QACT,KAAQ,QACR,YAAe,GACf,QAAW,GACX,QAAW,CACT,CACE,MAAS,EACT,MAAS,WACT,KAAQ,WACR,SAAY,IAEd,CACE,MAAS,EACT,MAAS,SACT,KAAQ,SACR,SAAY,CACV,CACE,MAAS,EACT,MAAS,cACT,KAAQ,cACR,SAAY,IAEd,CACE,MAAS,EACT,MAAS,OACT,KAAQ,OACR,SAAY,IAEd,CACE,MAAS,EACT,MAAS,OACT,KAAQ,OACR,SAAY,IAEd,CACE,MAAS,EACT,MAAS,UACT,KAAQ,UACR,SAAY,OAKpB,iBAAoB,cACpB,IAAO,CACL,YAAe,aACf,aAAgB,M,sECjDpB,+6E,GAAA,QAyBG,Q,GAAeC,KAAK,uEAAuEC,OAAO,SAASC,IAAI,uB,GAzBlH,QAyBwI,Q,GAzBxI,QAyBwK,c,GAAU,OAAkB,YAAZ,SAAK,G,GAzB7L,QAyBoM,W,GAzBpM,+f,GAAA,QA2B4F,U,GAAiBF,KAAK,wEAAwEC,OAAO,SAASC,IAAI,uB,GA3B9M,QA2BoO,W,GA3BpO,QA2BuQ,Q,GAAI,OAAsB,YAAhB,aAAS,G,GA3B1R,QA2BiS,W,GA3BjS,uwWCIA,EAHe,CACf,O,iEDFA,sBAyBA,OAA+M,UAzB/M,GAyBO,OAAiK,gBAAzJ,OAAgJ,IAAhJ,EAAgJ,CAzB/J,GAyB4I,QAAe,OAzB3J,EAyBkL,EAzBlL,IA0BA,GACyF,OAAmN,UA3B5S,GA2BkG,OAAqK,gBAA7J,OAAoJ,IAApJ,EAAoJ,CA3B9P,GA2B2O,QAAe,OA3B1P,EA2B2Q,EA3B3Q,IA4BA,G","sources":["webpack:///./.vuepress/.temp/pages/3.x/menu.html.js","webpack:///./.vuepress/.temp/pages/3.x/menu.html.vue","webpack:///./.vuepress/.temp/pages/3.x/menu.html.vue?f17d"],"sourcesContent":["export const data = {\n  \"key\": \"v-fd36ab22\",\n  \"path\": \"/3.x/menu.html\",\n  \"title\": \"自定义菜单\",\n  \"lang\": \"en-US\",\n  \"frontmatter\": {},\n  \"excerpt\": \"\",\n  \"headers\": [\n    {\n      \"level\": 2,\n      \"title\": \"获取菜单模块实例\",\n      \"slug\": \"获取菜单模块实例\",\n      \"children\": []\n    },\n    {\n      \"level\": 2,\n      \"title\": \"API 列表\",\n      \"slug\": \"api-列表\",\n      \"children\": [\n        {\n          \"level\": 3,\n          \"title\": \"读取（查询）已设置菜单\",\n          \"slug\": \"读取-查询-已设置菜单\",\n          \"children\": []\n        },\n        {\n          \"level\": 3,\n          \"title\": \"添加菜单\",\n          \"slug\": \"添加菜单\",\n          \"children\": []\n        },\n        {\n          \"level\": 3,\n          \"title\": \"删除菜单\",\n          \"slug\": \"删除菜单\",\n          \"children\": []\n        },\n        {\n          \"level\": 3,\n          \"title\": \"测试个性化菜单\",\n          \"slug\": \"测试个性化菜单\",\n          \"children\": []\n        }\n      ]\n    }\n  ],\n  \"filePathRelative\": \"3.x/menu.md\",\n  \"git\": {\n    \"updatedTime\": 1629906046000,\n    \"contributors\": []\n  }\n}\n","<h1 id=\"自定义菜单\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#自定义菜单\" aria-hidden=\"true\">#</a> 自定义菜单</h1>\n<p>3.0 的菜单组件有所简化，相比 2.x 版本变化如下：</p>\n<ul>\n<li>去除 <code>MenuItem</code> 类，创建菜单直接使用数组不再支持 <code>callback</code> 与 <code>MenuItem</code> 类似的繁杂的方式</li>\n<li><code>set()</code> 方法与 <code>addConditional()</code> 合并为一个方法 <code>add()</code></li>\n<li><code>get()</code> 改名为 <code>all()</code></li>\n<li><code>delete()</code> 与 <code>deleteById()</code> 合并为 <code>destroy()</code></li>\n<li>所有 API 的返回值（非调用失败情况）均为官方文档原样返回（Collection形式），不再取返回值中部分 <code>key</code> 返回。\n<blockquote>\n<p>例如原来的 <code>get()</code> 方法，官方返回的数组为: <code>{ menu: [...]}</code>，SDK 取了其中的 <code>menu</code> 内容作为返回值，在 3.0 后将直接整体返回。</p>\n</blockquote>\n</li>\n</ul>\n<h2 id=\"获取菜单模块实例\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#获取菜单模块实例\" aria-hidden=\"true\">#</a> 获取菜单模块实例</h2>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">EasyWeChat<span class=\"token punctuation\">\\</span>Foundation<span class=\"token punctuation\">\\</span>Application</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// ...</span>\n\n<span class=\"token variable\">$app</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Application</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$options</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$menu</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$app</span><span class=\"token operator\">-></span><span class=\"token property\">menu</span><span class=\"token punctuation\">;</span>\n</span></code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br><span class=\"line-number\">4</span><br><span class=\"line-number\">5</span><br><span class=\"line-number\">6</span><br><span class=\"line-number\">7</span><br><span class=\"line-number\">8</span><br></div></div><h2 id=\"api-列表\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#api-列表\" aria-hidden=\"true\">#</a> API 列表</h2>\n<h3 id=\"读取-查询-已设置菜单\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#读取-查询-已设置菜单\" aria-hidden=\"true\">#</a> 读取（查询）已设置菜单</h3>\n<p>微信的菜单读取有两个不同的方式：</p>\n<p>一种叫 <strong><a href=\"http://mp.weixin.qq.com/wiki/5/f287d1a5b78a35a8884326312ac3e4ed.html\" target=\"_blank\" rel=\"noopener noreferrer\">查询菜单<OutboundLink/></a></strong>，在 SDK 中以 <code>all()</code> 方法来调用：</p>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$menus</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$menu</span><span class=\"token operator\">-></span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br></div></div><p>另外一种叫 <strong><a href=\"http://mp.weixin.qq.com/wiki/14/293d0cb8de95e916d1216a33fcb81fd6.html\" target=\"_blank\" rel=\"noopener noreferrer\">获取自定义菜单<OutboundLink/></a></strong>，使用 <code>current()</code> 方法来调用：</p>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$menus</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$menu</span><span class=\"token operator\">-></span><span class=\"token function\">current</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br></div></div><h3 id=\"添加菜单\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#添加菜单\" aria-hidden=\"true\">#</a> 添加菜单</h3>\n<h4 id=\"添加普通菜单\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#添加普通菜单\" aria-hidden=\"true\">#</a> 添加普通菜单</h4>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$buttons</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">[</span>\n        <span class=\"token string double-quoted-string\">\"type\"</span> <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"click\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string double-quoted-string\">\"name\"</span> <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"今日歌曲\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string double-quoted-string\">\"key\"</span>  <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"V1001_TODAY_MUSIC\"</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">[</span>\n        <span class=\"token string double-quoted-string\">\"name\"</span>       <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"菜单\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string double-quoted-string\">\"sub_button\"</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">[</span>\n            <span class=\"token punctuation\">[</span>\n                <span class=\"token string double-quoted-string\">\"type\"</span> <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"view\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string double-quoted-string\">\"name\"</span> <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"搜索\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string double-quoted-string\">\"url\"</span>  <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"http://www.soso.com/\"</span>\n            <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">[</span>\n                <span class=\"token string double-quoted-string\">\"type\"</span> <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"view\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string double-quoted-string\">\"name\"</span> <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"视频\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string double-quoted-string\">\"url\"</span>  <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"http://v.qq.com/\"</span>\n            <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">[</span>\n                <span class=\"token string double-quoted-string\">\"type\"</span> <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"click\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string double-quoted-string\">\"name\"</span> <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"赞一下我们\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string double-quoted-string\">\"key\"</span> <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"V1001_GOOD\"</span>\n            <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$menu</span><span class=\"token operator\">-></span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$buttons</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br><span class=\"line-number\">4</span><br><span class=\"line-number\">5</span><br><span class=\"line-number\">6</span><br><span class=\"line-number\">7</span><br><span class=\"line-number\">8</span><br><span class=\"line-number\">9</span><br><span class=\"line-number\">10</span><br><span class=\"line-number\">11</span><br><span class=\"line-number\">12</span><br><span class=\"line-number\">13</span><br><span class=\"line-number\">14</span><br><span class=\"line-number\">15</span><br><span class=\"line-number\">16</span><br><span class=\"line-number\">17</span><br><span class=\"line-number\">18</span><br><span class=\"line-number\">19</span><br><span class=\"line-number\">20</span><br><span class=\"line-number\">21</span><br><span class=\"line-number\">22</span><br><span class=\"line-number\">23</span><br><span class=\"line-number\">24</span><br><span class=\"line-number\">25</span><br><span class=\"line-number\">26</span><br><span class=\"line-number\">27</span><br><span class=\"line-number\">28</span><br></div></div><p>以上将会创建一个普通菜单。</p>\n<h4 id=\"添加个性化菜单\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#添加个性化菜单\" aria-hidden=\"true\">#</a> 添加个性化菜单</h4>\n<p>与创建普通菜单不同的是，需要在 <code>add()</code> 方法中将个性化匹配规则作为第二个参数传进去：</p>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$buttons</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$matchRule</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string double-quoted-string\">\"tag_id\"</span> <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"2\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string double-quoted-string\">\"sex\"</span> <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"1\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string double-quoted-string\">\"country\"</span> <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"中国\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string double-quoted-string\">\"province\"</span> <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"广东\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string double-quoted-string\">\"city\"</span> <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"广州\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string double-quoted-string\">\"client_platform_type\"</span> <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"2\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string double-quoted-string\">\"language\"</span> <span class=\"token operator\">=></span> <span class=\"token string double-quoted-string\">\"zh_CN\"</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$menu</span><span class=\"token operator\">-></span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$buttons</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$matchRule</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br><span class=\"line-number\">4</span><br><span class=\"line-number\">5</span><br><span class=\"line-number\">6</span><br><span class=\"line-number\">7</span><br><span class=\"line-number\">8</span><br><span class=\"line-number\">9</span><br><span class=\"line-number\">10</span><br><span class=\"line-number\">11</span><br><span class=\"line-number\">12</span><br><span class=\"line-number\">13</span><br></div></div><h3 id=\"删除菜单\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#删除菜单\" aria-hidden=\"true\">#</a> 删除菜单</h3>\n<p>有两种删除方式，一种是<strong>全部删除</strong>，另外一种是<strong>根据菜单 ID 来删除</strong>(删除个性化菜单时用，ID 从查询接口获取)：</p>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$menu</span><span class=\"token operator\">-></span><span class=\"token function\">destroy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 全部</span>\n<span class=\"token variable\">$menu</span><span class=\"token operator\">-></span><span class=\"token function\">destroy</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$menuId</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br></div></div><h3 id=\"测试个性化菜单\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#测试个性化菜单\" aria-hidden=\"true\">#</a> 测试个性化菜单</h3>\n<div class=\"language-php ext-php line-numbers-mode\"><pre v-pre class=\"language-php\"><code><span class=\"token variable\">$menus</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$menu</span><span class=\"token operator\">-></span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$userId</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre><div class=\"line-numbers\"><span class=\"line-number\">1</span><br></div></div><blockquote>\n<p><code>$userId</code> 可以是粉丝的 OpenID，也可以是粉丝的微信号。</p>\n</blockquote>\n<p>返回 <code>$menus</code> 与指定的 <code>$userId</code> 匹配的菜单项。</p>\n<p>更多关于微信自定义菜单 API 请参考： http://mp.weixin.qq.com/wiki <code>自定义菜单</code> 章节。</p>\n","import { render } from \"./menu.html.vue?vue&type=template&id=9626b37c\"\nconst script = {}\nscript.render = render\n\nexport default script"],"names":["data","href","target","rel"],"sourceRoot":""}